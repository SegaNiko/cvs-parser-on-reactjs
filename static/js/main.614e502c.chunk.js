(this.webpackJsonpcvsparser=this.webpackJsonpcvsparser||[]).push([[0],{27:function(e,r,t){},30:function(e,r,t){"use strict";t.r(r);var a=t(0),s=t(4),c=t.n(s),n=t(19),l=t.n(n),i=(t(27),t(21)),o=t(11),d=t(18),u=t(16),h=["FirstName","Phone","Email","Age","Experience","YearlyIncome","Haschildren","Licensestates","Expirationdate","Licensenumber"],j=t(15),b=t.n(j),m=t(20),_=t.n(m),p=t(35),x=t(32),O=t(34),v=t(33),E=t(36),f=function(e){var r=e.render,t=e.keys,a=e.onDataUploaded,s=e.onError;return r((function(e){var r=e.target.files[0],c="csv"!==r.name.split(".").pop();_.a.parse(r,{skipEmptyLines:!0,error:function(e,r,t,a){s({err:e,file:r,inputElem:t,reason:a})},complete:function(e){var r=e.data;r.shift(),r.unshift(t);var n=Object(p.a)(Object(x.a)(Object(O.a)(v.a)),Object(E.a)(1))(r);s(c),a(n)}})}))};f.propTypes={keys:b.a.array.isRequired,onDataUploaded:b.a.func.isRequired,onError:b.a.func};var N=f,g=function(e){var r=e.arr;return Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"id"}),Object(a.jsx)("th",{children:"Full Name"}),Object(a.jsx)("th",{children:"Phone"}),Object(a.jsx)("th",{children:"Email"}),Object(a.jsx)("th",{children:"Age"}),Object(a.jsx)("th",{children:"Experience"}),Object(a.jsx)("th",{children:"Yearly Income"}),Object(a.jsx)("th",{children:"Has children"}),Object(a.jsx)("th",{children:"License states"}),Object(a.jsx)("th",{children:"Expiration date"}),Object(a.jsx)("th",{children:"License number"}),Object(a.jsx)("th",{children:"Duplicate"})]})}),Object(a.jsx)("tbody",{children:r.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"table__td",children:e.id}),Object(a.jsx)("td",{className:e.FirstName.hasError?"table__td-err":"table__td",children:e.FirstName.value}),Object(a.jsx)("td",{className:e.Phone.hasError?"table__td-err":"table__td",children:e.Phone.value}),Object(a.jsx)("td",{className:e.Email.hasError?"table__td-err":"table__td",children:e.Email.value}),Object(a.jsx)("td",{className:e.Age.hasError?"table__td-err":"table__td",children:e.Age.value}),Object(a.jsx)("td",{className:e.Experience.hasError?"table__td-err":"table__td",children:e.Experience.value}),Object(a.jsx)("td",{className:e.YearlyIncome.hasError?"table__td-err":"table__td",children:e.YearlyIncome.value}),Object(a.jsx)("td",{className:e.Haschildren.hasError?"table__td-err":"table__td",children:e.Haschildren.value}),Object(a.jsx)("td",{className:e.Licensestates.hasError?"table__td-err":"table__td",children:e.Licensestates.value}),Object(a.jsx)("td",{className:e.Expirationdate.hasError?"table__td-err":"table__td",children:e.Expirationdate.value}),Object(a.jsx)("td",{className:e.Licensenumber.hasError?"table__td-err":"table__td",children:e.Licensenumber.value}),Object(a.jsx)("td",{className:"table__td",children:e.duplicate.map((function(e){return"".concat(e," ")}))})]},e.FirstName.value+e.id)}))})]})},y=function(){var e=Object(s.useState)(null),r=Object(u.a)(e,2),t=r[0],c=r[1],n=Object(s.useState)(!1),l=Object(u.a)(n,2),j=l[0],b=l[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("header",{children:[Object(a.jsx)("h1",{className:"green accent-2",children:"Demo React Csv Parse"})," "]}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(N,{keys:h,onDataUploaded:function(e){c({data:e})},onError:function(e){b(e)},render:function(e){return Object(a.jsxs)("div",{className:"input__wrapper",children:[Object(a.jsx)("input",{id:"input__file",name:"file",type:"file",className:"input input__file",onChange:e}),Object(a.jsxs)("label",{htmlFor:"input__file",className:"input__file-button",children:[Object(a.jsx)("span",{className:"input__file-icon-wrapper",children:Object(a.jsx)("i",{className:"fas fa-cloud-download-alt"})}),Object(a.jsx)("span",{className:"input__file-button-text",children:"Choose one file"})]})]})}}),!j&&t?function(e){var r=e.data.map((function(e,r){return Object.entries(e).reduce((function(e,r){var t=Object(u.a)(r,2),a=t[0],s=t[1];return Object(d.a)(Object(d.a)({},e),{},Object(o.a)({},a,function(e,r){switch(e){case"FirstName":return r?{value:r.trim(),hasError:!1}:{value:r.trim(),hasError:!0};case"Phone":return!0===/^(\+1|1)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/.test(r)?{value:r.trim(),hasError:!1}:{value:r.trim(),hasError:!0};case"Email":return!0===/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(r)?{value:r.trim(),hasError:!1}:{value:r.trim(),hasError:!0};case"Age":return r>=21&&0!==r?{value:r.trim(),hasError:!1}:{value:r.trim(),hasError:!0};case"Experience":return r<30&&r>=0?{value:r.trim(),hasError:!1}:{value:r.trim(),hasError:!0};case"YearlyIncome":return r?{value:r.trim().substr(0,8),hasError:!1}:{value:r.trim().substr(0,8),hasError:!0};case"Haschildren":return"false"===r.toLowerCase()||""===r?{value:"false",hasError:!1}:"true"===r.toLowerCase()?{value:"true",hasError:!1}:{value:"",hasError:!0};case"Licensestates":return r?{value:r.trim(),hasError:!1}:{value:r.trim(),hasError:!0};case"Expirationdate":if(!(Date.parse(new Date(r))<Date.parse(new Date)))return{value:r.trim(),hasError:!0};if(r)return{value:r.trim(),hasError:!1};break;case"Licensenumber":return 6!==r.length?{value:r.trim(),hasError:!0}:{value:r.trim(),hasError:!1};default:return{value:r.trim(),hasError:!1}}}(a,s)))}),{id:r+1,duplicate:[]})})),t=r.map((function(e){for(var t=0;t<r.length;t++)r[t]!==e&&(r[t].FirstName.value!==e.FirstName.value&&r[t].Phone.value!==e.Phone.value&&r[t].Email.value!==e.Email.value||(e.duplicate=[].concat(Object(i.a)(e.duplicate),[r[t].id])));return e}));return console.log(t),Object(a.jsx)(g,{arr:t})}(t):j?Object(a.jsxs)("div",{className:"error",children:[Object(a.jsx)("h3",{className:"error__title",children:"Error: file not parsed"}),Object(a.jsx)("p",{className:"error__text",children:"Please check format file before send it is must be .cvs"}),Object(a.jsx)("img",{className:"error__img",alt:"think-about",src:"https://lh3.googleusercontent.com/proxy/ta8pnf2KDpMolgBHsrGI6TyJ3UAbzzPMvziOVXpT5z8W-8xw5RSAql_1BaYf449sR7yFoYDroMDG9gJIkUlDda_5KU9IPMkmPFR0qPwR_hDFx4yZMMtgkaj2ng"})]}):Object(a.jsx)("div",{})]})]})};l.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(y,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.614e502c.chunk.js.map